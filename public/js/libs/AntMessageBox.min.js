/*! AntMessageBox V0.21 Copyright (c) 2014 AntProduction http://antproduction.free.fr/AntMessageBox */
var AntMessageBox=function(){this.box=null;this.title=null;this.callbackOkParams=[];this.callbackCancelParams=[];var e=false;this.content=null;this.initDialogBox=function(t,n,r){this.box=n!=undefined&&n.trim()!=""?$(n):null;this.title=t!=undefined?t:"";if(r!=null&&r!=undefined)this.content=r;if(this.box==null||this.box.length==0){var i="AntMessageBox-"+(new Date).getTime();$("body").append("<div id='"+i+"'></div>");this.box=$("#"+i);e=false}else e=true;var s=this.box;this.box.dialog({autoOpen:false,width:"auto",show:{effect:"blind"},hide:{effect:"blind"},buttons:{Ok:function(){$(this).html="";s.dialog("close")}},title:this.title,close:function(t,n){if(e)s.dialog("close");else{s.dialog("destroy");s.remove()}}})};this.MsgDialogBox=function(t,n){if(e==false)this.initDialogBox(this.title!=null&&this.title.length?this.title:"Info");if(t!=null&&t!=undefined)this.content=t;this.box.html(this.content);this.box.dialog({dialogClass:"info"});this.box.dialog("option","modal",n==true);this.box.dialog("open")};this.AlertDialogBox=function(t,n,r){if(e==false)this.initDialogBox(this.title!=null&&this.title.length?this.title:"Alert");if(t!=null&&t!=undefined)this.content=t;this.box.html(this.content);this.box.dialog("option","modal",true);this.box.dialog({dialogClass:"alert"});var i=this.callbackOkParams!=[]?this.callbackOkParams:null;var s=this.box;this.box.dialog("option","buttons",[{text:r!=null?r:"Ok",click:function(){if(typeof n=="function"){n(i)}s.dialog("close")}}]);this.box.keypress(function(e){if(e.which&&e.which==13||e.keyCode&&e.keyCode==13){$(this).dialog("option").buttons[0].click()}});this.box.dialog("open")};this.ConfirmDialogBox=function(t,n,r,i,s){if(e==false)this.initDialogBox(this.title!=null&&this.title.length?this.title:"Confirm");if(t!=null&&t!=undefined)this.content=t;this.box.html(this.content);this.box.dialog("option","modal",true);var o=this.callbackOkParams!=[]?this.callbackOkParams:null;var u=this.callbackCancelParams!=[]?this.callbackCancelParams:null;var a=this.box;this.box.dialog("option","buttons",[{text:i!=null?i:"Ok",click:function(){if(typeof n=="function"){n(o)}a.dialog("close")}},{text:s!=null?s:"Cancel",click:function(){if(typeof r=="function"){r(u)}a.dialog("close")}}]);this.box.keypress(function(e){if(e.which&&e.which==13||e.keyCode&&e.keyCode==13){$(this).dialog("option").buttons[0].click()}});this.box.dialog("open")};this.KeyEvent=function(e,t){console.log(e+" "+t);this.box.find("#"+t).keypress(function(t){if(t.which&&t.which==13||t.keyCode&&t.keyCode==13){$("#"+e).click()}else if(t.which&&t.which==27||t.keyCode&&t.keyCode==27){$(this).dialog("close")}})}}